local_backend: true

backend:
  name: git-gateway
  branch: moc-358
  squash_merges: true

publish_mode: editorial_workflow
display_url: https://decap-cms-tester.netlify.app/
logo_url: /media/brand/logo.svg
media_folder: static/media/uploads
public_folder: /media/uploads

slug:
  encoding: ascii
  clean_accents: true

i18n:
  structure: multiple_files
  locales: [en, sl]

aliases:
  - &VISIBLE_IN_CMS {name: visibleInCMS, widget: hidden, default: true, i18n: duplicate}

collections:
  - label: 'Subfolders i18n'
    name: 'subfolders'
    folder: 'content/subfolders'
    identifier_field: 'title'
    create: true
    extension: 'md'
    i18n: true
    meta: { path: { widget: string, label: 'Path', index_file: '_index' } }
    nested:
      depth: 10
      summary: '{{title}}'
    fields:
      - { label: 'Title', name: 'title', widget: 'string', i18n: true }
  - label: 'Subpages i18n'
    name: 'subpages'
    folder: 'content/subpages'
    identifier_field: 'title'
    create: true
    extension: 'md'
    i18n: true
    meta: { path: { widget: string, label: 'Path', index_file: '_index' } }
    nested:
      depth: 10
      summary: '{{title}}'
      subfolders: false
    index_file:
      pattern: _index
    fields:
      - { label: 'Title', name: 'title', widget: 'string', i18n: true }
  - label: 'Subfolders EN'
    name: 'subfolders-en'
    folder: 'content/subfolders-en'
    identifier_field: 'title'
    create: true
    extension: 'md'
    meta: { path: { widget: string, label: 'Path', index_file: '_index' } }
    nested:
      depth: 10
      summary: '{{title}}'
    fields:
      - { label: 'Title', name: 'title', widget: 'string' }
  - label: 'Subpages EN'
    name: 'subpages-en'
    folder: 'content/subpages-en'
    identifier_field: 'title'
    create: true
    extension: 'md'
    meta: { path: { widget: string, label: 'Path', index_file: '_index' } }
    nested:
      depth: 10
      summary: '{{title}}'
      subfolders: false
    index_file:
      pattern: _index
    fields:
      - { label: 'Title', name: 'title', widget: 'string' }
